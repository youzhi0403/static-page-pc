(function(d,b,a,e){var c=function(g){var f=this;this.$elem=g;this.$smallBox=this.$elem.find(".small-box");this.$smallBox_pic=this.$smallBox.find("img");this.$smallBox_mask=this.$smallBox.find(".hover");this.$thumbnailBox=this.$elem.find(".thumbnail-box");this.$thumbnailBox_prev=this.$thumbnailBox.find(".btn-prev");this.$thumbnailBox_next=this.$thumbnailBox.find(".btn-next");this.$thumbnailBox_wrapper=this.$thumbnailBox.find(".wrapper");this.$thumbnailBox_item=this.$thumbnailBox.find(".item");this.$thumbnailBox_pic=this.$thumbnailBox.find("img");this.$bigBox=this.$elem.find(".big-box");this.$bigBox_pic=this.$bigBox.find("img")};c.prototype={moveBigPic:function(){var g=this.$smallBox_mask.position().left/(this.$smallBox.width()-this.$smallBox_mask.width());var f=this.$smallBox_mask.position().top/(this.$smallBox.height()-this.$smallBox_mask.height());var h=g*(this.$bigBox_pic.width()-this.$bigBox.width());var i=f*(this.$bigBox_pic.height()-this.$bigBox.height());this.$bigBox.scrollLeft(h).scrollTop(i)},changeSrouce:function(g,f){this.$smallBox_pic.attr("src",f);this.$bigBox_pic.attr("src","images/big_"+(g+1)+".jpg")},setMask:function(){var f=this.$smallBox.width()/(this.$bigBox_pic.width()/this.$bigBox.width());var g=this.$smallBox.height()/(this.$bigBox_pic.height()/this.$bigBox.height());this.$smallBox_mask.css({width:f,height:g})},inital:function(){var f=this;this.$thumbnailBox_next.click(function(){var h=f.$thumbnailBox_item.length-5;var g=h*78;if(h>0){f.$thumbnailBox_wrapper.animate({marginLeft:-g})}});this.$thumbnailBox_prev.click(function(){f.$thumbnailBox_wrapper.animate({marginLeft:0})});this.$thumbnailBox_item.mouseover(function(){var g=d(this).attr("data-src");f.$thumbnailBox_item.removeClass("item-cur");d(this).addClass("item-cur");f.changeSrouce(d(this).index(),g)});this.$smallBox.hover(function(){f.$bigBox.show();f.$smallBox_mask.show();f.setMask();d(this).mousemove(function(i){var h=i||b.event;var g={left:h.clientX-d(this).offset().left-f.$smallBox_mask.width()/2,top:h.clientY-d(this).offset().top-f.$smallBox_mask.height()/2+d(b).scrollTop()};if(g.left<0){g.left=0}else{if(g.left>d(this).width()-f.$smallBox_mask.width()){g.left=d(this).width()-f.$smallBox_mask.width()}}if(g.top<0){g.top=0}else{if(g.top>d(this).height()-f.$smallBox_mask.height()){g.top=d(this).height()-f.$smallBox_mask.height()}}f.$smallBox_mask.css(g);f.moveBigPic()})},function(){f.$smallBox_mask.hide();f.$bigBox.hide()})},constructor:c};d.fn.magnifier=function(){var f=new c(this);return f.inital()}})(jQuery,window,document);